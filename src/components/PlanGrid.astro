---
import { getWhatsAppLink } from '../data/config'
import { PLANES } from '../data/planes'
---

<section id="planes" class="bg-[#F8FAFD] py-14 md:py-20">
  <div class="max-w-7xl mx-auto px-4">
    <div class="text-center mb-10 md:mb-14">
      <h2 class="section-title">Planes con claridad de condiciones</h2>
      <p class="section-lede mt-3">
        Un ejecutivo de contratación te orienta, compara opciones y gestiona tu plan programado.
      </p>
      <div class="mt-4 text-sm text-slate-600">
        <p>Planes con ambulancias privadas programadas y equipadas según proveedor.</p>
        <p>Servicios complementarios, rescate colectivo y operativos preventivos según plan.</p>
      </div>
      <div class="mt-6 inline-flex flex-col items-center gap-2 text-sm text-slate-600">
        <p class="text-xs font-semibold uppercase tracking-widest text-slate-500">
          Servicios incluidos en planes (según proveedor)
        </p>
        <ul class="grid gap-2 sm:grid-cols-2 text-left">
          <li>Planes de rescate y servicios complementarios</li>
          <li>Ambulancias programadas y equipadas</li>
          <li>Operativos preventivos de salud</li>
          <li>Rescate colectivo</li>
          <li>Servicios a domicilio</li>
          <li>Ambulancias privadas</li>
        </ul>
      </div>
    </div>

    <!-- DUMMY: Reemplazar con imagen real de contratación de planes -->
    <div class="max-w-5xl mx-auto mb-8">
      <img
        src="/client.png"
        alt="Imagen referencial de contratación de planes de rescate en ambulancias privadas"
        class="w-full rounded-3xl border border-slate-100 shadow-sm"
        loading="lazy"
      />
    </div>

    <div class="grid gap-5 max-w-5xl mx-auto">
      {
        PLANES.map((plan) => (
          <article id={`plan-${plan.id}`} class="card-strong p-5 md:p-6">
            <div class="flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
              <div>
                {(plan.etiqueta || plan.destacado) && (
                  <div class="mb-3 flex flex-wrap gap-2">
                    {plan.etiqueta && <div class="badge">{plan.etiqueta}</div>}
                    {plan.destacado && <div class="badge badge-featured">Más contratado</div>}
                  </div>
                )}
                <h3 class="text-lg md:text-xl font-black text-slate-900">{plan.nombre}</h3>
                <p class="mt-2 text-sm text-slate-600">{plan.textoPrincipal}</p>
                <ul class="mt-3 grid gap-2 text-sm text-slate-600">
                  {plan.features.map((feature) => (
                    <li>{feature}</li>
                  ))}
                </ul>
                <p class="mt-3 text-xs text-slate-500">
                  Beneficios sujetos a condiciones del proveedor y del plan contratado.
                </p>
              </div>

              <div class="flex w-full flex-col gap-4 md:w-auto md:items-end md:border-l md:border-slate-200 md:pl-6">
                <div class="text-xs font-semibold uppercase tracking-widest text-slate-400">
                  Desde
                </div>
                <div class="flex items-end gap-2">
                  <span class="text-3xl md:text-4xl font-black text-slate-900">{plan.precio}</span>
                  <span class="text-xs md:text-sm font-semibold text-slate-500">{plan.unidad}</span>
                </div>
                <a
                  href={getWhatsAppLink()}
                  target="_blank"
                  class="btn btn-primary w-full md:w-auto"
                >
                  CONTRATAR ONLINE
                </a>
              </div>
            </div>
          </article>
        ))
      }
    </div>

    <div class="mt-10 text-center">
      <p class="text-sm text-slate-600">
        La prestación es realizada por proveedores externos. La contratación es programada y no
        corresponde a atención de urgencia.
      </p>
      <a href={getWhatsAppLink()} target="_blank" class="btn btn-primary w-full mt-6 md:w-auto">
        Cotiza aquí
      </a>
    </div>

    <div class="mt-12 grid gap-5 md:grid-cols-3">
      <div class="card p-5">
        <p class="text-[11px] font-semibold uppercase tracking-widest text-blue-900">Mini FAQ</p>
        <h3 class="mt-2 text-lg font-bold text-slate-900">¿Es para adultos mayores?</h3>
        <p class="mt-2 text-sm text-slate-600">
          Sí. Hay planes pensados para personas mayores, familias y empresas.
        </p>
      </div>

      <div class="card p-5">
        <p class="text-[11px] font-semibold uppercase tracking-widest text-blue-900">Mini FAQ</p>
        <h3 class="mt-2 text-lg font-bold text-slate-900">¿Qué necesito para contratar?</h3>
        <p class="mt-2 text-sm text-slate-600">
          Solo datos básicos. La asesora comercial guía todo el proceso programado.
        </p>
      </div>

      <div class="card p-5">
        <p class="text-[11px] font-semibold uppercase tracking-widest text-blue-900">Mini FAQ</p>
        <h3 class="mt-2 text-lg font-bold text-slate-900">¿Cuánto demora?</h3>
        <p class="mt-2 text-sm text-slate-600">
          Depende de la validación comercial y datos requeridos.
        </p>
      </div>
    </div>
  </div>
</section>
