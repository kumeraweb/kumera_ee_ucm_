---
import { PLANES } from '../data/planes'
import { getWhatsAppLink } from '../data/config'
import { CheckCircle2 } from 'lucide-astro'
---

<section id="planes" class="py-20 bg-slate-50">
  <div class="max-w-7xl mx-auto px-4">
    <h2 class="text-3xl md:text-4xl font-black text-center text-slate-900 mb-16">
      Planes a tu medida
    </h2>

    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      {
        PLANES.map((plan) => (
          <div
            class={`relative bg-white rounded-3xl p-8 border-2 ${plan.destacado ? 'border-red-500 shadow-2xl scale-105 z-10' : 'border-slate-100 shadow-lg'}`}
          >
            {plan.etiqueta && (
              <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-red-600 text-white px-4 py-1 rounded-full text-sm font-bold uppercase tracking-wide">
                {plan.etiqueta}
              </div>
            )}

            <h3 class="text-2xl font-black text-slate-900 mb-2">{plan.nombre}</h3>

            <div class="flex items-baseline mb-6">
              <span class="text-sm text-slate-500 font-semibold mr-1">Desde</span>
              <span class="text-4xl font-black text-blue-900">{plan.precio}</span>
              <span class="text-sm text-slate-500 font-bold ml-1">{plan.unidad}</span>
            </div>

            <ul class="space-y-4 mb-8">
              {plan.features.map((feature) => (
                <li class="flex items-start gap-3">
                  <CheckCircle2 class="w-6 h-6 text-green-500 shrink-0" />
                  <span class="text-slate-700 font-medium">{feature}</span>
                </li>
              ))}
            </ul>

            <a
              href={getWhatsAppLink(`Hola, me interesa el plan ${plan.nombre}`)}
              target="_blank"
              class={`block w-full py-4 rounded-xl font-bold text-center text-lg transition-colors ${plan.destacado ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-slate-100 hover:bg-slate-200 text-slate-800'}`}
            >
              Cotizar Plan
            </a>
          </div>
        ))
      }
    </div>
  </div>
</section>
